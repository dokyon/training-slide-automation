# ナレーション生成アプリ - 使い方ガイド

## 🎉 プログラミング知識不要！ブラウザで簡単操作

このアプリは、**プログラミングの知識が一切不要**で、テキストから高品質な音声を生成できるWebアプリケーションです。

## 📋 目次

1. [起動方法](#起動方法)
2. [音声生成の使い方](#音声生成の使い方)
3. [辞書管理の使い方](#辞書管理の使い方)
4. [トラブルシューティング](#トラブルシューティング)

---

## 起動方法

### ステップ1: ターミナルを開く

1. **Macの場合**: Spotlight検索（Command + Space）で「ターミナル」と入力
2. **Windowsの場合**: スタートメニューから「コマンドプロンプト」または「PowerShell」を開く

### ステップ2: プロジェクトフォルダに移動

```bash
cd /Users/dosakakyohei/dev/training-slide-automation
```

### ステップ3: アプリを起動

```bash
npm run app
```

以下のようなメッセージが表示されれば起動成功です：

```
===========================================
🎙️  ナレーション生成アプリ - 起動しました！
===========================================

📱 ブラウザでアクセス: http://localhost:3000
🔧 有料プラン: ON
🔑 API Key: 設定済み

終了するには Ctrl+C を押してください
```

### ステップ4: ブラウザでアクセス

ブラウザで以下のURLを開きます：

```
http://localhost:3000
```

自動で開かない場合は、Chrome、Safari、Edgeなどのブラウザに上記URLを手入力してください。

---

## 音声生成の使い方

### 1. テキストを入力する

![音声生成画面](docs/screenshots/narration.png)

1. 「音声生成」タブを選択（デフォルトで選択されています）
2. **ナレーション用テキスト**のボックスにテキストを入力
   - 例: 「こんにちは。これはナレーション生成のテストです。ChatGPTとAIについて説明します。」
3. 文字数が自動でカウントされます

### 2. ファイル名を指定する（オプション）

- **ファイル名**欄に好きな名前を入力（例: `my_narration`）
- 空欄のままでも自動で `narration_<タイムスタンプ>.mp3` という名前で保存されます

### 3. 音声を生成する

1. 「🎙️ 音声を生成する」ボタンをクリック
2. 生成中は「音声生成中です。しばらくお待ちください...」と表示されます
3. 完了すると、以下の情報が表示されます：
   - ✅ 音声生成完了！
   - ファイル名
   - 文字数

### 4. 音声をダウンロードする

- 「⬇️ 音声をダウンロード」ボタンをクリック
- ブラウザのダウンロードフォルダに MP3 ファイルが保存されます

---

## 辞書管理の使い方

辞書機能を使うと、**専門用語や固有名詞の読み方を制御**できます。

例：
- ❌ "ChatGPT" → "チャットグプト" （誤った読み方）
- ✅ "ChatGPT" → "チャットジーピーティー" （正しい読み方）

### 1. 辞書タブを開く

画面上部の「辞書管理」タブをクリックします。

### 2. 登録済みワードを確認

- 画面に登録されているワードの一覧が表示されます
- 登録ワード数が上部に表示されます

### 3. 新しいワードを追加する

1. **新しいワードを追加**欄に元のワードを入力（例: `Notion`）
2. **読み方**欄に読み方を入力（例: `ノーション`）
3. 「➕ ワードを追加」ボタンをクリック
4. 確認メッセージが表示されます

### 4. ワードを検索する

- **ワードを検索**欄にキーワードを入力
- リアルタイムで絞り込み表示されます

### 5. ワードを削除する

1. 削除したいワードの右側にある「削除」ボタンをクリック
2. 確認ダイアログで「OK」をクリック

---

## トラブルシューティング

### ❌ エラー: APIキー未設定

画面上部のステータスバーに「APIキー未設定」と表示される場合：

1. ターミナルでアプリを終了（Ctrl+C）
2. `.env` ファイルを確認
3. `GEMINI_API_KEY` が設定されているか確認
4. アプリを再起動

### ❌ エラー: ポートが既に使用されています

別のアプリが3000番ポートを使用している場合：

```bash
# ポート番号を変更して起動
PORT=3001 npm run app
```

その後、ブラウザで `http://localhost:3001` にアクセス

### ❌ ブラウザで開けない

1. ターミナルでアプリが起動しているか確認
2. URLが正しいか確認（`http://localhost:3000`）
3. ブラウザのキャッシュをクリア
4. 別のブラウザで試してみる

### ❌ 音声生成が遅い

無料プランの場合、1リクエストあたり約35秒かかります。

**解決方法:**
- `.env` ファイルで `GEMINI_PAID_TIER=true` に設定
- 有料プランの場合、1秒で処理されます

### ❌ 音声の読み方が間違っている

辞書機能を使って読み方を登録してください：

1. 「辞書管理」タブを開く
2. 間違った読み方をされているワードを追加
3. 正しい読み方を登録

---

## 💡 便利な使い方

### テキストファイルから読み込む

長いテキストがある場合：

1. テキストをメモ帳などで作成
2. 全文をコピー
3. ブラウザの「ナレーション用テキスト」欄に貼り付け

### 一括で複数の音声を生成する

1. テキストAを入力 → 生成 → ダウンロード
2. テキストBを入力 → 生成 → ダウンロード
3. ...繰り返し

ファイル名を変えることで、複数の音声を管理できます。

### 音声ファイルの保存場所

生成された音声は以下のフォルダに保存されます：

```
training-slide-automation/output/narration/
```

Finderで開く場合：

```bash
open ./output/narration
```

---

## 📊 コストと処理時間

### 無料プラン
- **制限:** 1日15リクエスト
- **処理時間:** 約35秒/リクエスト
- **コスト:** 0円

### 有料プラン
- **制限:** なし
- **処理時間:** 約3-5秒/リクエスト
- **コスト:** 約2円/リクエスト

---

## 🔧 設定ファイル

### `.env` ファイル

```bash
# Gemini API Key（必須）
GEMINI_API_KEY=your_api_key_here

# 有料プラン設定（true = 有料、false = 無料）
GEMINI_PAID_TIER=true

# ポート番号（オプション、デフォルト: 3000）
PORT=3000
```

---

## 📞 サポート

問題が解決しない場合：

1. ターミナルのエラーメッセージをコピー
2. ブラウザのコンソール（F12キー）を開いてエラーを確認
3. 開発者に問い合わせ

---

## 🎉 まとめ

✅ **プログラミング知識不要**
✅ **ブラウザで簡単操作**
✅ **テキスト入力 → MP3生成**
✅ **辞書機能で読み方を制御**

このアプリを使って、高品質なナレーション音声を簡単に作成しましょう！
